// Generated by CoffeeScript 1.7.1
(function() {
  var initialize;

  initialize = function() {
    $.get('/api/v1/loc', function(data) {
      var infowindow, map, mapOptions, marker, myLoc;
      mapOptions = {
        zoom: 14,
        center: myLoc = new google.maps.LatLng(data.lat, data.lng)
      };
      console.log(data);
      map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
      marker = new google.maps.Marker({
        position: myLoc,
        map: map,
        title: 'Hello World!'
      });
      infowindow = new google.maps.InfoWindow({
        content: "<div>" + new Date(data.time) + "</div>"
      });
      return google.maps.event.addListener(marker, 'click', function() {
        return infowindow.open(map, marker);
      });
    });
    return console.log(map);
  };

  $('document').ready(initialize);

}).call(this);
